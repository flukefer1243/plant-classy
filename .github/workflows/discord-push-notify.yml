name: Discord Push Notification # This is the name that will appear in the GitHub Actions tab

on:
  push: # This workflow will run whenever code is pushed to the repository
    branches:
      - main # IMPORTANT: Change 'main' to the name of your default branch (e.g., 'master')
      - develop # Add other branches you want to monitor for pushes (e.g., 'staging', 'feature/my-new-feature')
      # If you want it to trigger on *any* branch push, remove the 'branches:' section entirely.

jobs: # Defines the jobs to be run in this workflow
  notify: # This is the name of our single job
    runs-on: ubuntu-latest # Specifies the operating system for the job to run on (GitHub-hosted runner)

    steps: # Defines the sequence of steps within the 'notify' job
      - name: Send Discord notification on push # A friendly name for this specific step
        uses: Ilshidur/action-discord@master # This tells GitHub to use a specific action from the marketplace.
                                          # '@master' means use the latest version from the master branch.
                                          # For production, it's often better to use a specific version tag for stability, like:
                                          # uses: Ilshidur/action-discord@0.4.2

        env: # Defines environment variables for this step
          # This is how the action gets your sensitive Discord Webhook URL securely.
          # It tells GitHub to fetch the value of the secret named 'DISCORD_WEBHOOK'
          # that you (or the repo owner/admin) set up in the repository settings.
          DISCORD_WEBHOOK: "https://discord.com/api/webhooks/1381602440872329256/3jlZKe94gtfGkSkbTYxf7SnK1byyA87r9W2GxYelJ-ioFgHU2XK8Wud6HJiFGPSFjNu4"

        with: # Defines inputs specific to the 'Ilshidur/action-discord' action
          args: {
                  "embeds": [
                    {
                      "title": "Meow!",
                      "color": 1127128
                    },
                    {
                      "title": "Meow-meow!",
                      "color": 14177041
                    }
                  ]
                }

